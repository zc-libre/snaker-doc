(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{562:function(a,s,t){"use strict";t.r(s);var e=t(9),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h3",{attrs:{id:"流程实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#流程实例"}},[a._v("#")]),a._v(" 流程实例")]),a._v(" "),t("p",[a._v("流程实例服务主要配合引擎完成实例的开始、结束状态。")]),a._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[a._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("snaker"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("engine"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")])]),a._v("IOrderService")]),a._v("\n")])])]),t("ul",[t("li",[t("code",[a._v("完成实例")])]),a._v(" "),t("li",[t("code",[a._v("强制终止")])]),a._v(" "),t("li",[t("code",[a._v("唤醒实例")])])]),a._v(" "),t("h3",{attrs:{id:"完成实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#完成实例"}},[a._v("#")]),a._v(" 完成实例")]),a._v(" "),t("p",[a._v("流程实例的完成，是通过"),t("code",[a._v("complete")]),a._v("方法处理的。")]),a._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("complete")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" orderId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("p",[a._v("一般情况下，该方法不需要显示调用，流程引擎在执行最后一个任务，流向End节点时，会自动触发完成实例的动作。")]),a._v(" "),t("p",[a._v("如果你手动调用complete方法，会造成实例数据与任务数据不一致的情况，仅仅是结束了实例，但是该实例下的所有活动任务依然存在。")]),a._v(" "),t("h3",{attrs:{id:"强制终止"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#强制终止"}},[a._v("#")]),a._v(" 强制终止")]),a._v(" "),t("p",[a._v("如果需要把一个活动的流程实例结束掉，并且同时结束该实例下的所有活动任务，那么可以调用"),t("code",[a._v("terminate")]),a._v("方法进行处理。")]),a._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("terminate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" orderId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("terminate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" orderId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" operator"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("p",[a._v("如果不传递operator，那么会存在权限不够，活动任务无法结束的情况。此时建议您传递"),t("code",[a._v("SnakerEngine.ADMIN")]),a._v("超级权限去终止。")]),a._v(" "),t("h3",{attrs:{id:"唤醒实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#唤醒实例"}},[a._v("#")]),a._v(" 唤醒实例")]),a._v(" "),t("p",[a._v("如果一个已经结束的实例，希望重新激活至最后一步，该如何操作呢。那么调用"),t("code",[a._v("resume")]),a._v("方法即可实现此功能。")]),a._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Order")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("resume")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" orderId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("p",[a._v("唤醒实例后，会重新产生一个活动实例的数据记录Order，同时会唤醒最后一个历史任务为活动任务记录。")])])}),[],!1,null,null,null);s.default=n.exports}}]);